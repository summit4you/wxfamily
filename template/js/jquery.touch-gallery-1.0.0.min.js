/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(d){d.fn.activity=function(i){this.each(function(){var k=d(this);
var o=k.data("activity");if(o){clearInterval(o.data("interval"));o.remove();k.removeData("activity");}if(i!==false){i=d.extend({color:k.css("color")},d.fn.activity.defaults,i);
o=c(k,i).css("position","absolute").prependTo(i.outside?"body":k);var j=k.outerHeight()-o.height();var m=k.outerWidth()-o.width();var n={top:i.valign=="top"?i.padding:i.valign=="bottom"?j-i.padding:Math.floor(j/2),left:i.align=="left"?i.padding:i.align=="right"?m-i.padding:Math.floor(m/2)};
var l=k.offset();if(i.outside){o.css({top:l.top+"px",left:l.left+"px"});}else{n.top-=o.offset().top-l.top;n.left-=o.offset().left-l.left;}o.css({marginTop:n.top+"px",marginLeft:n.left+"px"});
b(o,i.segments,Math.round(10/i.speed)/10);k.data("activity",o);}});return this;};d.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};
d.fn.activity.getOpacity=function(k,m){var j=k.steps||k.segments-1;var l=k.opacity!==undefined?k.opacity:1/j;return 1-Math.min(m,j)*(1-l)/j;};var c=function(){return d("<div>").addClass("busy");
};var b=function(){};function a(k,i){var j=document.createElementNS("http://www.w3.org/2000/svg",k||"svg");if(i){d.each(i,function(l,m){j.setAttributeNS(null,l,m);
});}return d(j);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){c=function(k,m){var o=m.width*2+m.space;
var j=(o+m.length+Math.ceil(m.width/2)+1);var p=a().width(j*2).height(j*2);var l=a("g",{"stroke-width":m.width,"stroke-linecap":"round",stroke:m.color}).appendTo(a("g",{transform:"translate("+j+","+j+")"}).appendTo(p));
for(var n=0;n<m.segments;n++){l.append(a("line",{x1:0,y1:o,x2:0,y2:o+m.length,transform:"rotate("+(360/m.segments*n)+", 0, 0)",opacity:d.fn.activity.getOpacity(m,n)}));
}return d("<div>").append(p).width(2*j).height(2*j);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var h={};b=function(r,p,n){if(!h[p]){var k="spin"+p;
var j="@-webkit-keyframes "+k+" {";for(var q=0;q<p;q++){var l=Math.round(100000/p*q)/1000;var o=Math.round(100000/p*(q+1)-1)/1000;var m="% { -webkit-transform:rotate("+Math.round(360/p*q)+"deg); }\n";
j+=l+m+o+m;}j+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(j);h[p]=k;}r.css("-webkit-animation",h[p]+" "+n+"s linear infinite");
};}else{b=function(m,k,l){var j=0;var i=m.find("g g").get(0);m.data("interval",setInterval(function(){i.setAttributeNS(null,"transform","rotate("+(++j%k*(360/k))+")");
},l*1000/k));};}}else{var f=d("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(f.get(0).adj){var g=document.createStyleSheet();d.each(["group","shape","stroke"],function(){g.addRule(this,"behavior:url(#default#VML);");
});c=function(k,l){var q=l.width*2+l.space;var j=(q+l.length+Math.ceil(l.width/2)+1);var p=j*2;var m=-Math.ceil(p/2);var t=d("<group>",{coordsize:p+" "+p,coordorigin:m+" "+m}).css({top:m,left:m,width:p,height:p});
for(var n=0;n<l.segments;n++){t.append(d("<shape>",{path:"m "+q+",0  l "+(q+l.length)+",0"}).css({width:p,height:p,rotation:(360/l.segments*n)+"deg"}).append(d("<stroke>",{color:l.color,weight:l.width+"px",endcap:"round",opacity:d.fn.activity.getOpacity(l,n)})));
}return d("<group>",{coordsize:p+" "+p}).css({width:p,height:p,overflow:"hidden"}).append(t);};b=function(m,k,l){var j=0;var i=m.get(0);m.data("interval",setInterval(function(){i.style.rotation=++j%k*(360/k);
},l*1000/k));};}d(f).remove();}})(jQuery);
/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(d){d.fn.activity=function(i){this.each(function(){var j=d(this);
var m=j.data("activity");if(m){clearInterval(m.data("interval"));m.remove();j.removeData("activity");}if(i!==false){i=d.extend({color:j.css("color")},d.fn.activity.defaults,i);
m=c(j,i).css("position","absolute").prependTo(i.outside?"body":j);var l={top:Math.floor((j.outerHeight()-m.height())/2),left:Math.floor((j.outerWidth()-m.width())/2)};
var k=j.offset();if(i.outside){m.css({top:k.top+"px",left:k.left+"px"});}else{l.top-=m.offset().top-k.top;l.left-=m.offset().left-k.left;}m.css({marginTop:l.top+"px",marginLeft:l.left+"px"});
b(m,i.segments,Math.round(10/i.speed)/10);j.data("activity",m);}});return this;};d.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2};
d.fn.activity.getOpacity=function(k,m){var j=k.steps||k.segments-1;var l=k.opacity!==undefined?k.opacity:1/j;return 1-Math.min(m,j)*(1-l)/j;};var c=function(){return d("<div>").addClass("busy");
};var b=function(){};function a(k,i){var j=document.createElementNS("http://www.w3.org/2000/svg",k||"svg");if(i){d.each(i,function(l,m){j.setAttributeNS(null,l,m);
});}return d(j);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){c=function(k,m){var o=m.width*2+m.space;
var j=(o+m.length+Math.ceil(m.width/2)+1);var p=a().width(j*2).height(j*2);var l=a("g",{"stroke-width":m.width,"stroke-linecap":"round",stroke:m.color}).appendTo(a("g",{transform:"translate("+j+","+j+")"}).appendTo(p));
for(var n=0;n<m.segments;n++){l.append(a("line",{x1:0,y1:o,x2:0,y2:o+m.length,transform:"rotate("+(360/m.segments*n)+", 0, 0)",opacity:d.fn.activity.getOpacity(m,n)}));
}return d("<div>").append(p).width(2*j).height(2*j);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var h={};b=function(r,p,n){if(!h[p]){var k="spin"+p;
var j="@-webkit-keyframes "+k+" {";for(var q=0;q<p;q++){var l=Math.round(100000/p*q)/1000;var o=Math.round(100000/p*(q+1)-1)/1000;var m="% { -webkit-transform:rotate("+Math.round(360/p*q)+"deg); }\n";
j+=l+m+o+m;}j+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(j);h[p]=k;}r.css("-webkit-animation",h[p]+" "+n+"s linear infinite");
};}else{b=function(m,k,l){var j=0;var i=m.find("g g").get(0);m.data("interval",setInterval(function(){i.setAttributeNS(null,"transform","rotate("+(++j%k*(360/k))+")");
},l*1000/k));};}}else{var f=d("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(f.get(0).adj){var g=document.createStyleSheet();d.each(["group","shape","stroke"],function(){g.addRule(this,"behavior:url(#default#VML);");
});c=function(k,l){var q=l.width*2+l.space;var j=(q+l.length+Math.ceil(l.width/2)+1);var p=j*2;var m=-Math.ceil(p/2);var t=d("<group>",{coordsize:p+" "+p,coordorigin:m+" "+m}).css({top:m,left:m,width:p,height:p});
for(var n=0;n<l.segments;n++){t.append(d("<shape>",{path:"m "+q+",0  l "+(q+l.length)+",0"}).css({width:p,height:p,rotation:(360/l.segments*n)+"deg"}).append(d("<stroke>",{color:l.color,weight:l.width+"px",endcap:"round",opacity:d.fn.activity.getOpacity(l,n)})));
}return d("<group>",{coordsize:p+" "+p}).css({width:p,height:p,overflow:"hidden"}).append(t);};b=function(m,k,l){var j=0;var i=m.get(0);m.data("interval",setInterval(function(){i.style.rotation=++j%k*(360/k);
},l*1000/k));};}d(f).remove();}})(jQuery);
/*!
 * NETEYE Transform & Transition Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(d){var g=(function(){var k=["Webkit","Moz","O"];
var h=document.createElement("div").style;function j(m){var l="";if(h[m]!==undefined){return m;}d.each(k,function(){var n=this+m.charAt(0).toUpperCase()+m.substring(1);
if(h[n]!==undefined){l=n;return false;}});return l;}var i={};d.each(["transitionDuration","transitionProperty","transform","transformOrigin"],function(){i[this]=j(this);
});return i;})();var f=(function(){var i=document.createElement("div").style;try{i[g.transform]="translate3d(0,0,0)";return i[g.transform].length>0;}catch(h){return false;
}})();function b(j,h){var i=j.data("transform");if(!i){i=new a();j.data("transform",i);}if(h!==undefined){if(h===false||h.reset){i.reset();}else{i.exec(h);
}}return i;}function c(j,i){function h(l,k){return l.replace(/\{(\w+)\}/g,function(n,m){return k[m];});}this.reset=function(){d.extend(this,i);};this.format=function(){return h(j,this);
};this.reset();}function a(){var i={translate:new c("translate({x}px,{y}px)",{x:0,y:0}),scale:new c("scale({x},{y})",{x:1,y:1}),rotate:new c("rotate({deg}deg)",{deg:0})};
if(f){i.translate=new c("translate3d({x}px,{y}px,0px)",{x:0,y:0});i.scale=new c("scale3d({x},{y},1)",{x:1,y:1});}var h={rotate:function(j){i.rotate.deg=j;
},rotateBy:function(j){i.rotate.deg+=j;},scale:function(j){if(typeof j=="number"){j={x:j,y:j};}i.scale.x=j.x;i.scale.y=j.y;},scaleBy:function(j){if(typeof j=="number"){j={x:j,y:j};
}i.scale.x*=j.x;i.scale.y*=j.y;},translate:function(k){var j=i.translate;if(!k){k={x:0,y:0};}j.x=(k.x!==undefined)?parseInt(k.x,10):j.x;j.y=(k.y!==undefined)?parseInt(k.y,10):j.y;
},translateBy:function(k){var j=i.translate;j.x+=parseInt(k.x,10)||0;j.y+=parseInt(k.y,10)||0;}};this.fn=i;this.exec=function(k){for(var j in k){if(h[j]){h[j](k[j]);
}}};this.reset=function(){d.each(i,function(){this.reset();});};this.format=function(){var j="";d.each(i,function(l,m){j+=m.format()+" ";});return j;};
}d.fn.transform=function(i){var h=this;if(d.fn.transform.supported){this.each(function(){var j=d(this);var l=b(j,i);if(i===undefined){h=l.fn;return false;
}var k=i&&i.origin?i.origin:"0 0";j.css(g.transitionDuration,"0s").css(g.transformOrigin,k).css(g.transform,l.format());});}return h;};d.fn.transform.supported=!!g.transform;
d.fn.transition=function(h,j){j=d.extend({delay:0,duration:0.4},j);var i="";d.each(h,function(l,m){i+=l+",";});this.each(function(){var m=d(this);if(!d.fn.transition.supported){m.css(h);
if(j.onFinish){d.proxy(j.onFinish,m)();}return;}var l=m.css(g.transitionDuration);function k(){m.css(g.transitionProperty,i).css(g.transitionDuration,j.duration+"s");
m.css(h);if(j.duration>0){m.one("webkitTransitionEnd oTransitionEnd transitionend",n);}else{setTimeout(n,1);}}function n(){m.css(g.transitionDuration,l);
if(j.onFinish){d.proxy(j.onFinish,m)();}}if(j.delay>0){setTimeout(k,j.delay);}else{k();}});return this;};d.fn.transition.supported=!!g.transitionProperty;
d.fn.transformTransition=function(i){i=d.extend({origin:"0 0",css:{}},i);var h=i.css;if(d.fn.transform.supported){h[g.transform]=b(this,i).format();this.css(g.transformOrigin,i.origin);
}return this.transition(h,i);};})(jQuery);
/*!
 * NETEYE Touch-Gallery jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(w){var h=/Mobile.*Safari/.test(navigator.userAgent);
w.fn.touchGallery=function(z){z=w.extend({},w.fn.touchGallery.defaults,z);var A=this;this.live("click",function(B){B.preventDefault();if(B.stopPropagation){e.stopPropagation();
}var C=w(this);if(!C.is(".open")){A.addClass("open");t(A,C,z);}return false;});return this;};w.fn.touchGallery.defaults={getSource:function(){return this.href;
}};function t(B,C,A){C.activity();var z=new Image();z.onload=function(){C.activity(false);x(B,B.index(C),this,A.getSource);};z.src=w.proxy(A.getSource,C.get(0))();
}function x(D,C,E,B){var z=c(v(w('<div id="galleryViewport">').css({position:"fixed",top:0,left:0,overflow:"hidden"}).transform(false).appendTo("body")));
var A=w('<div id="galleryStripe">').css({position:"absolute",height:"100%",top:0,left:(-C*k())+"px"}).width(D.length*k()).transform(false).appendTo(z);
a(A,k(),C,D.length-1);w(window).bind("orientationchange.gallery",function(){c(z);A.find("img").each(d);});D.each(function(I){var G=w("<div>").addClass("galleryPage").css({display:"block",position:"absolute",left:I*k()+"px",overflow:"hidden",height:"100%"}).width(k()).data("thumbs",D).data("thumb",w(this)).transform(false).appendTo(A);
if(I==C){var F=w(E).css({position:"absolute",display:"block"}).transform(false);s(d(C,E,F)).appendTo(G);m(w(this),F,function(){A.addClass("ready");u(C);
});r(z);}else{G.activity({color:"#fff"});var H=new Image();var J=w.proxy(B,this)();G.one("loadImage",function(){H.src=J;});H.onload=function(){var K=w(this).css({position:"absolute",display:"block"}).transform(false);
d(I,this,K).appendTo(G.activity(false));G.trigger("loaded");};}});}function g(z){if(z.is(".ready")&&!z.is(".panning")){w("#galleryShade").remove();var A=z.find(".galleryPage").eq(z.data("galleryIndex"));
A.data("thumbs").removeClass("open");var B=A.data("thumb");z.add(window).add(document).unbind(".gallery");j(A.find("img"),B,function(){i(B).transform(false);
w("#galleryViewport").remove();});}}function r(z,B){var C=w('<div id="galleryShade">').css({top:0,left:0,background:"#000",opacity:0});if(h){var A=Math.max(screen.width,screen.height)*(window.devicePixelRatio||1)+Math.max(b(),p())+100;
C.css({position:"absolute"}).width(A).height(A);}else{C.css({position:"fixed",width:"100%",height:"100%"});}C.insertBefore(z).transform(false).transition({opacity:1},{delay:200,duration:0.8,onFinish:B});
}function d(B,z,C){C=C||w(z);if(!z.naturalWidth){z.naturalWidth=z.width;z.naturalHeight=z.height;}var A=Math.min(y(),Math.min(n()/z.naturalHeight,k()/z.naturalWidth));
C.css({top:Math.round((n()-z.naturalHeight*A)/2)+"px",left:Math.round((k()-z.naturalWidth*A)/2)+"px"}).width(Math.round(z.naturalWidth*A));return C;}function m(G,C,F){var B=l(C);
var E=l(G);var D=Math.max(E.width/C.width(),E.height/C.height());var z=h?0:b();var A=h?0:p();C.transform({translate:{x:E.left-B.left-z-Math.round((B.width*D-E.width)/2),y:E.top-B.top-A-Math.round((B.height*D-E.height)/2)},scale:D});
setTimeout(function(){i(C);s(G);C.transformTransition({reset:true,onFinish:F});},1);}function j(A,z,D){if(A.length===0||!w.fn.transition.supported){if(D){D();
}return;}var B=l(A);var C=l(z);var F=Math.min(B.height*C.width/C.height,B.width);var E=Math.min(B.width*C.height/C.width,B.height);var G=Math.max(C.width/F,C.height/E);
var H=w("<div>").css({overflow:"hidden",position:"absolute",width:F+"px",height:E+"px",top:p()+Math.round((n()-E)/2)+"px",left:b()+Math.round((k()-F)/2)+"px"}).appendTo("body").append(A.css({top:1-Math.floor((B.height-E)/2)+"px",left:-Math.floor((B.width-F)/2)+"px"})).transform(false);
B=l(H);H.transformTransition({translate:{x:C.left-B.left-Math.round((F*G-C.width)/2),y:C.top-B.top-Math.round((E*G-C.height)/2)},scale:G,onFinish:function(){D();
H.remove();}});}function o(z){return w("#galleryStripe .galleryPage").eq(z);}function f(z){return o(z).data("thumb");}function u(B){var A=o(B);function z(){o(B-1).add(o(B+1)).trigger("loadImage");
}if(A.find("img").length>0){z();}else{A.one("loaded",z);}}function a(F,B,D,z){var A=y();var C=parseInt(F.css("left"),10);F.data("galleryIndex",D);function E(G){var I=F.data("galleryIndex");
i(f(I));I=Math.max(0,Math.min(I+G,z));F.data("galleryIndex",I);s(f(I));u(I);if(w.fn.transform.supported){var H=-I*B-C;if(H!=F.transform().translate.x){F.addClass("panning").transformTransition({translate:{x:H},onFinish:function(){this.removeClass("panning");
}});}}else{F.css("left",-I*B+"px");}}w(document).bind("keydown.gallery",function(G){if(G.keyCode==37){F.trigger("prev");}else{if(G.keyCode==39){F.trigger("next");
}}if(G.keyCode==27||G.keyCode==32){F.trigger("close");}return false;});F.bind("touchstart",function(){w(this).data("pan",{startX:event.targetTouches[0].screenX,lastX:event.targetTouches[0].screenX,startTime:new Date().getTime(),startOffset:w(this).transform().translate.x,distance:function(){return Math.round(A*(this.startX-this.lastX));
},delta:function(){var H=event.targetTouches[0].screenX;this.dir=this.lastX>H?1:-1;var G=Math.round(A*(this.lastX-H));this.lastX=H;return G;},duration:function(){return new Date().getTime()-this.startTime;
}});return false;}).bind("touchmove",function(){var G=w(this).data("pan");w(this).transform({translateBy:{x:-G.delta()}});return false;}).bind("touchend",function(){var G=w(this).data("pan");
if(G.distance()===0&&G.duration()<500){w(event.target).trigger("click");}else{E(G.dir);}return false;}).bind("prev",function(){E(-1);}).bind("next",function(){E(1);
}).bind("click close",function(){g(F);});}function c(z){if(h){z.css({top:p()+"px",left:b()+"px"});}return z.width(k()).height(n());}function y(){return k()/document.documentElement.clientWidth;
}function q(B,z){if(window[B]!==undefined){return window[B];}var A=document.documentElement;if(A&&A[z]){return A[z];}return document.body[z];}function p(){return q("pageYOffset","scrollTop");
}function b(){return q("pageXOffset","scrollLeft");}function k(){return q("innerWidth","clientWidth");}function n(){return q("innerHeight","clientHeight");
}function i(z){return z.css("visibility","visible");}function s(z){return z.css("visibility","hidden");}function l(A){var z=A.get(0);if(z&&z.getBoundingClientRect){return z.getBoundingClientRect();
}return w.extend({width:A.width(),height:A.height()},A.offset());}function v(z){return z.bind("touchstart",function(){return false;});}})(jQuery);