/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(c){c.fn.activity=function(h){this.each(function(){var i=c(this);
var k=i.data("activity");if(k){clearInterval(k.data("interval"));k.remove();i.removeData("activity");}if(h!==false){h=c.extend({color:i.css("color")},c.fn.activity.defaults,h);
k=e(i,h).css("position","absolute").prependTo(h.outside?"body":i);var n=i.outerHeight()-k.height();var j=i.outerWidth()-k.width();var m={top:h.valign=="top"?h.padding:h.valign=="bottom"?n-h.padding:Math.floor(n/2),left:h.align=="left"?h.padding:h.align=="right"?j-h.padding:Math.floor(j/2)};
var l=i.offset();if(h.outside){k.css({top:l.top+"px",left:l.left+"px"});}else{m.top-=k.offset().top-l.top;m.left-=k.offset().left-l.left;}k.css({marginTop:m.top+"px",marginLeft:m.left+"px"});
f(k,h.segments,Math.round(10/h.speed)/10);i.data("activity",k);}});return this;};c.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};
c.fn.activity.getOpacity=function(l,j){var h=l.steps||l.segments-1;var k=l.opacity!==undefined?l.opacity:1/h;return 1-Math.min(j,h)*(1-k)/h;};var e=function(){return c("<div>").addClass("busy");
};var f=function(){};function d(j,i){var h=document.createElementNS("http://www.w3.org/2000/svg",j||"svg");if(i){c.each(i,function(m,l){h.setAttributeNS(null,m,l);
});}return c(h);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){e=function(k,h){var o=h.width*2+h.space;
var n=(o+h.length+Math.ceil(h.width/2)+1);var l=d().width(n*2).height(n*2);var m=d("g",{"stroke-width":h.width,"stroke-linecap":"round",stroke:h.color}).appendTo(d("g",{transform:"translate("+n+","+n+")"}).appendTo(l));
for(var j=0;j<h.segments;j++){m.append(d("line",{x1:0,y1:o,x2:0,y2:o+h.length,transform:"rotate("+(360/h.segments*j)+", 0, 0)",opacity:c.fn.activity.getOpacity(h,j)}));
}return c("<div>").append(l).width(2*n).height(2*n);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var b={};f=function(j,m,k){if(!b[m]){var n="spin"+m;
var h="@-webkit-keyframes "+n+" {";for(var o=0;o<m;o++){var p=Math.round(100000/m*o)/1000;var l=Math.round(100000/m*(o+1)-1)/1000;var q="% { -webkit-transform:rotate("+Math.round(360/m*o)+"deg); }\n";
h+=p+q+l+q;}h+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(h);b[m]=n;}j.css("-webkit-animation",b[m]+" "+k+"s linear infinite");
};}else{f=function(i,h,j){var k=0;var l=i.find("g g").get(0);i.data("interval",setInterval(function(){l.setAttributeNS(null,"transform","rotate("+(++k%h*(360/h))+")");
},j*1000/h));};}}else{var g=c("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(g.get(0).adj){var a=document.createStyleSheet();c.each(["group","shape","stroke"],function(){a.addRule(this,"behavior:url(#default#VML);");
});e=function(k,h){var p=h.width*2+h.space;var n=(p+h.length+Math.ceil(h.width/2)+1);var q=n*2;var m=-Math.ceil(q/2);var l=c("<group>",{coordsize:q+" "+q,coordorigin:m+" "+m}).css({top:m,left:m,width:q,height:q});
for(var j=0;j<h.segments;j++){l.append(c("<shape>",{path:"m "+p+",0  l "+(p+h.length)+",0"}).css({width:q,height:q,rotation:(360/h.segments*j)+"deg"}).append(c("<stroke>",{color:h.color,weight:h.width+"px",endcap:"round",opacity:c.fn.activity.getOpacity(h,j)})));
}return c("<group>",{coordsize:q+" "+q}).css({width:q,height:q,overflow:"hidden"}).append(l);};f=function(i,h,j){var k=0;var l=i.get(0);i.data("interval",setInterval(function(){l.style.rotation=++k%h*(360/h);
},j*1000/h));};}c(g).remove();}})(jQuery);
/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(c){c.fn.activity=function(h){this.each(function(){var i=c(this);
var j=i.data("activity");if(j){clearInterval(j.data("interval"));j.remove();i.removeData("activity");}if(h!==false){h=c.extend({color:i.css("color")},c.fn.activity.defaults,h);
j=e(i,h).css("position","absolute").prependTo(h.outside?"body":i);var l={top:Math.floor((i.outerHeight()-j.height())/2),left:Math.floor((i.outerWidth()-j.width())/2)};
var k=i.offset();if(h.outside){j.css({top:k.top+"px",left:k.left+"px"});}else{l.top-=j.offset().top-k.top;l.left-=j.offset().left-k.left;}j.css({marginTop:l.top+"px",marginLeft:l.left+"px"});
f(j,h.segments,Math.round(10/h.speed)/10);i.data("activity",j);}});return this;};c.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2};
c.fn.activity.getOpacity=function(l,j){var h=l.steps||l.segments-1;var k=l.opacity!==undefined?l.opacity:1/h;return 1-Math.min(j,h)*(1-k)/h;};var e=function(){return c("<div>").addClass("busy");
};var f=function(){};function d(j,i){var h=document.createElementNS("http://www.w3.org/2000/svg",j||"svg");if(i){c.each(i,function(m,l){h.setAttributeNS(null,m,l);
});}return c(h);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){e=function(k,h){var o=h.width*2+h.space;
var n=(o+h.length+Math.ceil(h.width/2)+1);var l=d().width(n*2).height(n*2);var m=d("g",{"stroke-width":h.width,"stroke-linecap":"round",stroke:h.color}).appendTo(d("g",{transform:"translate("+n+","+n+")"}).appendTo(l));
for(var j=0;j<h.segments;j++){m.append(d("line",{x1:0,y1:o,x2:0,y2:o+h.length,transform:"rotate("+(360/h.segments*j)+", 0, 0)",opacity:c.fn.activity.getOpacity(h,j)}));
}return c("<div>").append(l).width(2*n).height(2*n);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var b={};f=function(j,m,k){if(!b[m]){var n="spin"+m;
var h="@-webkit-keyframes "+n+" {";for(var o=0;o<m;o++){var p=Math.round(100000/m*o)/1000;var l=Math.round(100000/m*(o+1)-1)/1000;var q="% { -webkit-transform:rotate("+Math.round(360/m*o)+"deg); }\n";
h+=p+q+l+q;}h+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(h);b[m]=n;}j.css("-webkit-animation",b[m]+" "+k+"s linear infinite");
};}else{f=function(i,h,j){var k=0;var l=i.find("g g").get(0);i.data("interval",setInterval(function(){l.setAttributeNS(null,"transform","rotate("+(++k%h*(360/h))+")");
},j*1000/h));};}}else{var g=c("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(g.get(0).adj){var a=document.createStyleSheet();c.each(["group","shape","stroke"],function(){a.addRule(this,"behavior:url(#default#VML);");
});e=function(k,h){var p=h.width*2+h.space;var n=(p+h.length+Math.ceil(h.width/2)+1);var q=n*2;var m=-Math.ceil(q/2);var l=c("<group>",{coordsize:q+" "+q,coordorigin:m+" "+m}).css({top:m,left:m,width:q,height:q});
for(var j=0;j<h.segments;j++){l.append(c("<shape>",{path:"m "+p+",0  l "+(p+h.length)+",0"}).css({width:q,height:q,rotation:(360/h.segments*j)+"deg"}).append(c("<stroke>",{color:h.color,weight:h.width+"px",endcap:"round",opacity:c.fn.activity.getOpacity(h,j)})));
}return c("<group>",{coordsize:q+" "+q}).css({width:q,height:q,overflow:"hidden"}).append(l);};f=function(i,h,j){var k=0;var l=i.get(0);i.data("interval",setInterval(function(){l.style.rotation=++k%h*(360/h);
},j*1000/h));};}c(g).remove();}})(jQuery);
/*!
 * NETEYE Transform & Transition Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(b){var f=(function(){var g=["Webkit","Moz","O"];
var j=document.createElement("div").style;function h(l){var k="";if(j[l]!==undefined){return l;}b.each(g,function(){var m=this+l.charAt(0).toUpperCase()+l.substring(1);
if(j[m]!==undefined){k=m;return false;}});return k;}var i={};b.each(["transitionDuration","transitionProperty","transform","transformOrigin"],function(){i[this]=h(this);
});return i;})();var e=(function(){var h=document.createElement("div").style;try{h[f.transform]="translate3d(0,0,0)";return h[f.transform].length>0;}catch(g){return false;
}})();function d(g,h){var i=g.data("transform");if(!i){i=new c();g.data("transform",i);}if(h!==undefined){if(h===false||h.reset){i.reset();}else{i.exec(h);
}}return i;}function a(h,i){function g(k,j){return k.replace(/\{(\w+)\}/g,function(m,l){return j[l];});}this.reset=function(){b.extend(this,i);};this.format=function(){return g(h,this);
};this.reset();}function c(){var g={translate:new a("translate({x}px,{y}px)",{x:0,y:0}),scale:new a("scale({x},{y})",{x:1,y:1}),rotate:new a("rotate({deg}deg)",{deg:0})};
if(e){g.translate=new a("translate3d({x}px,{y}px,0px)",{x:0,y:0});g.scale=new a("scale3d({x},{y},1)",{x:1,y:1});}var h={rotate:function(i){g.rotate.deg=i;
},rotateBy:function(i){g.rotate.deg+=i;},scale:function(i){if(typeof i=="number"){i={x:i,y:i};}g.scale.x=i.x;g.scale.y=i.y;},scaleBy:function(i){if(typeof i=="number"){i={x:i,y:i};
}g.scale.x*=i.x;g.scale.y*=i.y;},translate:function(j){var i=g.translate;if(!j){j={x:0,y:0};}i.x=(j.x!==undefined)?parseInt(j.x,10):i.x;i.y=(j.y!==undefined)?parseInt(j.y,10):i.y;
},translateBy:function(j){var i=g.translate;i.x+=parseInt(j.x,10)||0;i.y+=parseInt(j.y,10)||0;}};this.fn=g;this.exec=function(i){for(var j in i){if(h[j]){h[j](i[j]);
}}};this.reset=function(){b.each(g,function(){this.reset();});};this.format=function(){var i="";b.each(g,function(l,j){i+=j.format()+" ";});return i;};
}b.fn.transform=function(h){var g=this;if(b.fn.transform.supported){this.each(function(){var j=b(this);var k=d(j,h);if(h===undefined){g=k.fn;return false;
}var i=h&&h.origin?h.origin:"0 0";j.css(f.transitionDuration,"0s").css(f.transformOrigin,i).css(f.transform,k.format());});}return g;};b.fn.transform.supported=!!f.transform;
b.fn.transition=function(i,h){h=b.extend({delay:0,duration:0.4},h);var g="";b.each(i,function(l,j){g+=l+",";});this.each(function(){var k=b(this);if(!b.fn.transition.supported){k.css(i);
if(h.onFinish){b.proxy(h.onFinish,k)();}return;}var j=k.css(f.transitionDuration);function m(){k.css(f.transitionProperty,g).css(f.transitionDuration,h.duration+"s");
k.css(i);if(h.duration>0){k.one("webkitTransitionEnd oTransitionEnd transitionend",l);}else{setTimeout(l,1);}}function l(){k.css(f.transitionDuration,j);
if(h.onFinish){b.proxy(h.onFinish,k)();}}if(h.delay>0){setTimeout(m,h.delay);}else{m();}});return this;};b.fn.transition.supported=!!f.transitionProperty;
b.fn.transformTransition=function(g){g=b.extend({origin:"0 0",css:{}},g);var h=g.css;if(b.fn.transform.supported){h[f.transform]=d(this,g).format();this.css(f.transformOrigin,g.origin);
}return this.transition(h,g);};})(jQuery);
/*!
 * NETEYE Touch-Gallery jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(v){var k=/Mobile.*Safari/.test(navigator.userAgent);
v.fn.touchGallery=function(y){y=v.extend({},v.fn.touchGallery.defaults,y);var z=this;this.on("click",function(A){A.preventDefault();A=A||window.event;A.stopPropagation();
if(A.stopPropagation){A.stopPropagation();}else{A.cancelBubble=false;}var B=v(this);if(!B.is(".open")){z.addClass("open");q(z,B,y);}return false;});return this;
};v.fn.touchGallery.defaults={getSource:function(){return this.href;}};function q(A,z,y){z.activity();var B=new Image();B.onload=function(){z.activity(false);
l(A,A.index(z),this,y.getSource);};B.src=v.proxy(y.getSource,z.get(0))();}function l(B,A,z,D){var C=o(a(v('<div id="galleryViewport">').css({position:"fixed",top:0,left:0,overflow:"hidden"}).transform(false).appendTo("body")));
var y=v('<div id="galleryStripe">').css({position:"absolute",height:"100%",top:0,left:(-A*m())+"px"}).width(B.length*m()).transform(false).appendTo(C);
x(y,m(),A,B.length-1);v(window).bind("orientationchange.gallery",function(){o(C);y.find("img").each(d);});B.each(function(F){var H=v("<div>").addClass("galleryPage").css({display:"block",position:"absolute",left:F*m()+"px",overflow:"hidden",height:"100%"}).width(m()).data("thumbs",B).data("thumb",v(this)).transform(false).appendTo(y);
if(F==A){var E=v(z).css({position:"absolute",display:"block"}).transform(false);f(d(A,z,E)).appendTo(H);t(v(this),E,function(){y.addClass("ready");w(A);
});b(C);}else{H.activity({color:"#fff"});var I=new Image();var G=v.proxy(D,this)();H.one("loadImage",function(){I.src=G;});I.onload=function(){var J=v(this).css({position:"absolute",display:"block"}).transform(false);
d(F,this,J).appendTo(H.activity(false));H.trigger("loaded");};}});}function e(y){if(y.is(".ready")&&!y.is(".panning")){v("#galleryShade").remove();var z=y.find(".galleryPage").eq(y.data("galleryIndex"));
z.data("thumbs").removeClass("open");var A=z.data("thumb");y.add(window).add(document).unbind(".gallery");c(z.find("img"),A,function(){u(A).transform(false);
v("#galleryViewport").remove();});}}function b(A,z){var B=v('<div id="galleryShade">').css({top:0,left:0,background:"#000",opacity:0});if(k){var y=Math.max(screen.width,screen.height)*(window.devicePixelRatio||1)+Math.max(n(),g())+100;
B.css({position:"absolute"}).width(y).height(y);}else{B.css({position:"fixed",width:"100%",height:"100%"});}B.insertBefore(A).transform(false).transition({opacity:1},{delay:200,duration:0.8,onFinish:z});
}function d(y,B,z){z=z||v(B);if(!B.naturalWidth){B.naturalWidth=B.width;B.naturalHeight=B.height;}var A=Math.min(j(),Math.min(r()/B.naturalHeight,m()/B.naturalWidth));
z.css({top:Math.round((r()-B.naturalHeight*A)/2)+"px",left:Math.round((m()-B.naturalWidth*A)/2)+"px"}).width(Math.round(B.naturalWidth*A));return z;}function t(A,B,z){var F=h(B);
var D=h(A);var C=Math.max(D.width/B.width(),D.height/B.height());var y=k?0:n();var E=k?0:g();B.transform({translate:{x:D.left-F.left-y-Math.round((F.width*C-D.width)/2),y:D.top-F.top-E-Math.round((F.height*C-D.height)/2)},scale:C});
setTimeout(function(){u(B);f(A);B.transformTransition({reset:true,onFinish:z});},1);}function c(B,F,D){if(B.length===0||!v.fn.transition.supported){if(D){D();
}return;}var y=h(B);var A=h(F);var G=Math.min(y.height*A.width/A.height,y.width);var E=Math.min(y.width*A.height/A.width,y.height);var C=Math.max(A.width/G,A.height/E);
var z=v("<div>").css({overflow:"hidden",position:"absolute",width:G+"px",height:E+"px",top:g()+Math.round((r()-E)/2)+"px",left:n()+Math.round((m()-G)/2)+"px"}).appendTo("body").append(B.css({top:1-Math.floor((y.height-E)/2)+"px",left:-Math.floor((y.width-G)/2)+"px"})).transform(false);
y=h(z);z.transformTransition({translate:{x:A.left-y.left-Math.round((G*C-A.width)/2),y:A.top-y.top-Math.round((E*C-A.height)/2)},scale:C,onFinish:function(){D();
z.remove();}});}function s(y){return v("#galleryStripe .galleryPage").eq(y);}function p(y){return s(y).data("thumb");}function w(y){var A=s(y);function z(){s(y-1).add(s(y+1)).trigger("loadImage");
}if(A.find("img").length>0){z();}else{A.one("loaded",z);}}function x(C,D,y,E){var z=j();var A=parseInt(C.css("left"),10);C.data("galleryIndex",y);function B(F){var G=C.data("galleryIndex");
u(p(G));G=Math.max(0,Math.min(G+F,E));C.data("galleryIndex",G);f(p(G));w(G);if(v.fn.transform.supported){var H=-G*D-A;if(H!=C.transform().translate.x){C.addClass("panning").transformTransition({translate:{x:H},onFinish:function(){this.removeClass("panning");
}});}}else{C.css("left",-G*D+"px");}}v(document).bind("keydown.gallery",function(F){if(F.keyCode==37){C.trigger("prev");}else{if(F.keyCode==39){C.trigger("next");
}}if(F.keyCode==27||F.keyCode==32){C.trigger("close");}return false;});C.bind("touchstart",function(){v(this).data("pan",{startX:event.targetTouches[0].screenX,lastX:event.targetTouches[0].screenX,startTime:new Date().getTime(),startOffset:v(this).transform().translate.x,distance:function(){return Math.round(z*(this.startX-this.lastX));
},delta:function(){var G=event.targetTouches[0].screenX;this.dir=this.lastX>G?1:-1;var F=Math.round(z*(this.lastX-G));this.lastX=G;return F;},duration:function(){return new Date().getTime()-this.startTime;
}});return false;}).bind("touchmove",function(){var F=v(this).data("pan");v(this).transform({translateBy:{x:-F.delta()}});return false;}).bind("touchend",function(){var F=v(this).data("pan");
if(F.distance()===0&&F.duration()<500){v(event.target).trigger("click");}else{B(F.dir);}return false;}).bind("prev",function(){B(-1);}).bind("next",function(){B(1);
}).bind("click close",function(){e(C);});}function o(y){if(k){y.css({top:g()+"px",left:n()+"px"});}return y.width(m()).height(r());}function j(){return m()/document.documentElement.clientWidth;
}function i(z,A){if(window[z]!==undefined){return window[z];}var y=document.documentElement;if(y&&y[A]){return y[A];}return document.body[A];}function g(){return i("pageYOffset","scrollTop");
}function n(){return i("pageXOffset","scrollLeft");}function m(){return i("innerWidth","clientWidth");}function r(){return i("innerHeight","clientHeight");
}function u(y){return y.css("visibility","visible");}function f(y){return y.css("visibility","hidden");}function h(y){var z=y.get(0);if(z&&z.getBoundingClientRect){return z.getBoundingClientRect();
}return v.extend({width:y.width(),height:y.height()},y.offset());}function a(y){return y.bind("touchstart",function(){return false;});}})(jQuery);